<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table Maker</title>
    <style>
        body {
            margin: 0px;
            padding: 0px;
            box-sizing: border-box;
            height: 100vh;
            width: 100vw;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 1rem;
        }
    </style>
    <script src="TableMaker.js" defer></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>

<body class="container">
    <h1 class="display-2">TableMaker Demo</h1>

    <div class="row">
        <div class="btn-group" role="group">
            <button onclick="showRaw(this)" class="btn btn-outline-danger">Show Raw Data</button>
            <button onclick="makeTable()" class="btn btn-outline-secondary">Make Table</button>
        </div>
    </div>

    <div class="row">
        <pre id="info" hidden></pre>
    </div>


    <div id="paginator-container" class="row"></div>
    <div id="table-container" class="row"></div>

    <script defer>
        let data = [
            { name: "Bob", age: 21, dateOfBirth: new Date(1993, 1, 1), wealth: 123456, isGuest: true },
            { name: "Tim", age: 19, dateOfBirth: new Date(2001, 1, 1), wealth: 1.1111, isGuest: false },
            { name: "Shaytan", age: 33, dateOfBirth: new Date(666, 6, 6), wealth: 666, isGuest: true },
            { name: "Kelly", age: 33, dateOfBirth: new Date(1930, 12, 21), wealth: 1000000000, isGuest: false },
            { name: "Reginald", age: 1_000_000, dateOfBirth: new Date(1, 1, 1), wealth: 42, isGuest: false },
        ];
        document.querySelector("pre").innerText = JSON.stringify(data, null, 2);
        let visible = false;
        let i = 1;

        function showRaw(el) {
            visible = !visible;
            let pre = document.querySelector("pre");
            if (visible) {
                pre.hidden = false;
                el.innerText = "Hide Raw Data";
            }
            else {
                pre.hidden = true;
                el.innerText = "Show Raw Data"
            }
        }

        function makeTable() {
            if (i++ > 1) return;

            NMaker.init(data);

            let pm = new PaginatorMaker({
                id : "newPaginator",
                parentSelector: "#paginator-container",
                pageLength: 4
            });

            let filter = new FilterMaker({
                parentSelector: "#table-container"
            });

            let tm = new TableMaker({
                id: "newTable",
                parentSelector: "#table-container",
                sorting: ["name", "age", "dateOfBirth", "wealth"],
                hide: ["isGuest"],
                currency: ["wealth"]
            });
        }
    </script>
</body>

</html>